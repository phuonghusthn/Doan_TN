{"ast":null,"code":"var _jsxFileName = \"E:\\\\DATN_2020\\\\src\\\\components\\\\Main.js\";\nimport React from 'react';\nimport Login from './login/login';\nimport Container from './container/container';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { connect } from 'react-redux';\n\nvar md5 = require('md5');\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.token = '';\n\n    this.renderContent = () => {\n      switch (this.state.page) {\n        case \"login\":\n          return /*#__PURE__*/React.createElement(Login, {\n            loginSuccess: this.onLoginSuccess,\n            ref: this.loginRef,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 24\n            }\n          });\n\n        case \"content\":\n          return /*#__PURE__*/React.createElement(Container, {\n            onLogOutClick: this.onLogOutClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 24\n            }\n          });\n\n        default:\n          return;\n      }\n    };\n\n    this.onLogOutClick = () => {\n      localStorage.removeItem('token');\n      this.setState({\n        page: 'login'\n      });\n      this.loginRef.current && this.loginRef.current.onLoginShow();\n    };\n\n    this.onLoginSuccess = value => {\n      let username = value.username;\n      let dt = new Date();\n      let min = dt.getUTCMinutes();\n      let hrs = dt.getUTCHours();\n\n      if (min < 10) {\n        min = '0' + min;\n      }\n\n      if (hrs < 10) {\n        hrs = '0' + hrs;\n      }\n\n      let time = hrs + ':' + min;\n      localStorage.setItem('crfs', md5(username + time));\n      localStorage.setItem('token', value.token);\n      localStorage.setItem('name', value.name);\n      setInterval(() => {\n        let username = value.username;\n        let dtz = new Date();\n        let minz = dtz.getUTCMinutes();\n        let hrsz = dtz.getUTCHours();\n\n        if (minz < 10) {\n          minz = '0' + minz;\n        }\n\n        if (hrsz < 10) {\n          hrsz = '0' + hrsz;\n        }\n\n        let timez = hrsz + ':' + minz;\n        localStorage.setItem('crfs', md5(username + timez));\n      }, 60000);\n      this.setState({\n        page: 'content'\n      });\n    };\n\n    this.state = {\n      page: this.props.page\n    };\n    this.loginRef = React.createRef();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, this.renderContent());\n  }\n\n}\n\nexport default connect()(Main);","map":{"version":3,"sources":["E:/DATN_2020/src/components/Main.js"],"names":["React","Login","Container","DateFnsUtils","connect","md5","require","Main","Component","constructor","props","token","renderContent","state","page","onLoginSuccess","loginRef","onLogOutClick","localStorage","removeItem","setState","current","onLoginShow","value","username","dt","Date","min","getUTCMinutes","hrs","getUTCHours","time","setItem","name","setInterval","dtz","minz","hrsz","timez","createRef","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Login from './login/login'\r\nimport Container from './container/container'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport { connect } from 'react-redux'\r\n\r\nvar md5 = require('md5')\r\n\r\nclass Main extends React.Component {\r\n    token = '';\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            page: this.props.page,\r\n        };\r\n        this.loginRef = React.createRef();\r\n    }\r\n\r\n    renderContent = () => {\r\n        switch (this.state.page) {\r\n            case \"login\":\r\n                return <Login loginSuccess={this.onLoginSuccess} ref={this.loginRef} />;\r\n            case \"content\":\r\n                return <Container onLogOutClick={this.onLogOutClick} />;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    onLogOutClick = () => {\r\n        localStorage.removeItem('token');\r\n        this.setState({\r\n            page: 'login',\r\n        });\r\n\r\n\r\n        this.loginRef.current && this.loginRef.current.onLoginShow();\r\n    }\r\n\r\n    onLoginSuccess = (value) => {\r\n        let username = value.username\r\n        let dt = new Date();\r\n        let min = dt.getUTCMinutes();\r\n        let hrs = dt.getUTCHours();\r\n        if (min < 10 ){\r\n            min = '0' + min;\r\n        }\r\n\r\n        if (hrs < 10){\r\n            hrs = '0' + hrs;\r\n        }\r\n\r\n        let time = hrs + ':' + min;\r\n        localStorage.setItem('crfs', md5(username + time));\r\n        localStorage.setItem('token', value.token)\r\n        localStorage.setItem('name', value.name);\r\n        setInterval(() => {\r\n            let username = value.username\r\n            let dtz = new Date();\r\n            let minz = dtz.getUTCMinutes();\r\n            let hrsz = dtz.getUTCHours();\r\n            if (minz < 10 ){\r\n                minz = '0' + minz;\r\n            }\r\n    \r\n            if (hrsz < 10){\r\n                hrsz = '0' + hrsz;\r\n            }\r\n    \r\n            let timez = hrsz + ':' + minz;\r\n            localStorage.setItem('crfs', md5(username + timez));\r\n        }, 60000);\r\n        this.setState({\r\n            page: 'content',\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderContent()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(Main);"]},"metadata":{},"sourceType":"module"}